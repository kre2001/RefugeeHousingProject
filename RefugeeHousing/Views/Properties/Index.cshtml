@using System.Collections
@using System.Web.Mvc.Html
@using Resources
@model RefugeeHousing.Models.ListingSearchModel

<h2 class="display-1">@LocalizedText.AvailableProperties</h2>


<hr>
<h4>Filter by:</h4>
@using (Html.BeginForm())
{
    <div class="form-group col-md-3">
        <label>@LocalizedText.Bedrooms:</label>
        @Html.DropDownListFor(model => model.MinBedrooms, PropertyFilterReference.GetMinRoomsFilterList())
    </div>

    <div class="form-check col-md-3">
        <label>@LocalizedText.PricePerMonth:</label>
        @Html.DropDownListFor(model => model.MaxPricePerMonth, PropertyFilterReference.GetMaxMonthlyRentFilterList())
    </div>

    <div class="form-check col-md-3">
        <label>@LocalizedText.Furnished?:</label>
        @Html.DropDownListFor(model => model.IsFurnished, PropertyFilterReference.GetFurnishedFilterList())
    </div>

    <input type="submit" class="btn btn-primary col-md-3" value="Filter" />
}
<table class="table table-hover table-condensed">
    <thead>
    <tr>
        <th>@LocalizedText.Reference</th>
        <th>@LocalizedText.Bedrooms</th>
        <th>@LocalizedText.Furnished</th>
        <th>@LocalizedText.Price</th>
    </tr>
    </thead>
    @foreach (var listing in Model.ListingsToDisplay)
    {
        <tr>
            <td>@listing.Id</td>
            <td>@listing.NumberOfBedrooms</td>
            <td>@(listing.Furnished ? LocalizedText.Yes : LocalizedText.No)</td>
            <td>€@listing.Price</td>
        </tr>
    }
</table>

@if (!Model.ListingsToDisplay.Any())
{
    <p>No Results Found</p>
}

<p>@(LocalizedText.PriceGivenPerMonth).</p>

